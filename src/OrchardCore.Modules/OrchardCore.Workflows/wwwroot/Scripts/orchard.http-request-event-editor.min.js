function initializeHttpRequestEventSecretManager(e){if(e){var t=Vue.component("vue-multiselect",window.VueMultiselect.default);new Vue({el:e,components:{"vue-multiselect":t},data:function(){var t=JSON.parse(e.dataset.secretData),a=$("[data-workflow-type-unique-id]").data("workflow-type-unique-id"),r=$("[data-activity-id]").data("activity-id"),i=$("[data-antiforgery-header-name]").data("antiforgery-header-name"),o=$("[data-antiforgery-token]").data("antiforgery-token"),n={};return n[i]=o,{secrets:t.secrets,selected:t.selected,workflowTypeId:a,activityId:r,linkUrl:t.linkUrl,createUrl:t.createUrl,headers:n,linkSecretErrorMessage:t.linkSecretErrorMessage,createSecretErrorMessage:t.createSecretErrorMessage}},computed:{isLinkButtonVisible:function(){return""!==this.selected.workflowTypeId&&(this.selected.activityId!==this.activityId||this.selected.workflowTypeId!==this.workflowTypeId)}},methods:{create:function(e){var t=this;$.ajax({url:t.createUrl,method:"POST",headers:t.headers,data:{secretName:e,workflowTypeId:t.workflowTypeId,activityId:t.activityId,tokenLifeSpan:$("#token-lifespan").val()},success:function(e){t.secrets.push(e),t.selected=e},error:function(){alert(t.linkSecretErrorMessage)}})},linkSecret:function(){var e=this;$.ajax({url:e.linkUrl,method:"POST",headers:e.headers,data:{secretName:e.selected.name,workflowTypeId:e.workflowTypeId,activityId:e.activityId,tokenLifeSpan:$("#token-lifespan").val()},success:function(t){e.selected.workflowTypeId=t.workflowTypeId,e.selected.activityId=t.activityId},error:function(){alert(e.linkSecretErrorMessage)}})}}})}}$((function(){var e=function(){var e=$("[data-workflow-type-id]").data("workflow-type-id"),t=$("[data-activity-id]").data("activity-id"),a=$("#token-lifespan").val(),r=$("[data-generate-url]").data("generate-url")+"?workflowTypeId="+e+"&activityId="+t+"&tokenLifeSpan="+a,i=$("[data-antiforgery-header-name]").data("antiforgery-header-name"),o=$("[data-antiforgery-token]").data("antiforgery-token"),n={};n[i]=o,$.post({url:r,headers:n}).done((function(e){$("#workflow-url-text").val(e)}))};$("#generate-url-button").on("click",(function(t){e()})),""==$("#workflow-url-text").val()&&e()}));
